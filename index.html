<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Gadget Hub HQ – Amazon Finds</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --bg: #020615;
      --card: #050c1f;
      --card-soft: #071124;
      --accent: #00c7ff;
      --accent-soft: rgba(0, 199, 255, 0.14);
      --text: #f9fbff;
      --muted: #9aa4c6;
      --border-subtle: #101728;
      --radius-xl: 20px;
      --radius-lg: 16px;
      --radius-pill: 999px;
      --shadow-soft: 0 18px 45px rgba(0, 0, 0, 0.5);
      --shadow-card: 0 16px 40px rgba(0, 0, 0, 0.45);
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      min-height: 100vh;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text",
        "Segoe UI", sans-serif;
      color: var(--text);
      background: radial-gradient(circle at top left, #031534 0, #020615 40%, #000 100%);
      -webkit-font-smoothing: antialiased;
    }

    .page {
      max-width: 1120px;
      margin: 0 auto;
      padding: 20px 16px 40px;
    }

    header {
      display: flex;
      align-items: center;
      gap: 14px;
      margin-bottom: 24px;
    }

    header img.logo {
      width: 52px;
      height: 52px;
      border-radius: 50%;
      object-fit: cover;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
    }

    header .title-block {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    header h1 {
      margin: 0;
      font-size: 22px;
      letter-spacing: 0.04em;
      text-transform: uppercase;
    }

    header .subtitle {
      font-size: 13px;
      color: var(--muted);
    }

    section {
      margin-bottom: 28px;
    }

    section h2 {
      margin: 0 0 12px;
      font-size: 14px;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      color: var(--muted);
    }

    /* Featured card */

    .featured-card {
      background: radial-gradient(circle at top left, #081c40, #050c1f 55%, #020615);
      border-radius: var(--radius-xl);
      box-shadow: var(--shadow-card);
      padding: 20px 22px;
      border: 1px solid rgba(0, 0, 0, 0.3);
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 18px;
      position: relative;
      overflow: hidden;
    }

    .featured-main {
      display: flex;
      align-items: center;
      gap: 18px;
      min-width: 0;
    }

    .featured-image-wrap {
      flex: 0 0 auto;
      width: 70px;
      height: 70px;
      border-radius: 18px;
      background: #020615;
      display: flex;
      align-items: center;
      justify-content: center;
      border: 1px solid rgba(255, 255, 255, 0.04);
      overflow: hidden;
    }

    .featured-image {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .featured-text {
      display: flex;
      flex-direction: column;
      gap: 6px;
      min-width: 0;
    }

    .featured-title {
      font-size: 18px;
      font-weight: 600;
      white-space: nowrap;
      text-overflow: ellipsis;
      overflow: hidden;
    }

    .featured-caption {
      font-size: 13px;
      color: var(--muted);
      max-width: 460px;
    }

    .featured-meta-row {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-top: 6px;
      flex-wrap: wrap;
    }

    .badge-tiktok {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 10px;
      border-radius: var(--radius-pill);
      background: var(--accent-soft);
      color: var(--accent);
      font-size: 11px;
    }

    .badge-tiktok-dot {
      width: 7px;
      height: 7px;
      border-radius: 999px;
      background: #16e88b;
      box-shadow: 0 0 0 4px rgba(22, 232, 139, 0.2);
    }

    .featured-updated {
      font-size: 11px;
      color: var(--muted);
    }

    .featured-cta {
      flex: 0 0 auto;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 8px;
      min-width: 110px;
    }

    .shop-pill {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 9px 20px;
      border-radius: var(--radius-pill);
      border: none;
      outline: none;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      background: var(--accent);
      color: #001321;
      text-decoration: none;
      box-shadow: var(--shadow-soft);
      white-space: nowrap;
      transition: transform 0.12s ease, box-shadow 0.12s ease,
        background 0.12s ease;
    }

    .shop-pill:hover {
      transform: translateY(-1px);
      box-shadow: 0 20px 40px rgba(0, 199, 255, 0.45);
      background: #1ad4ff;
    }

    .shop-pill:active {
      transform: translateY(0);
      box-shadow: var(--shadow-soft);
    }

    .shop-pill-icon {
      margin-left: 6px;
      font-size: 14px;
    }

    /* Trending grid */

    .trending-grid {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 16px;
    }

    .trend-card {
      background: var(--card);
      border-radius: var(--radius-lg);
      border: 1px solid rgba(255, 255, 255, 0.04);
      box-shadow: var(--shadow-soft);
      padding: 14px 14px 13px;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      min-height: 130px;
    }

    .trend-category {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      color: var(--muted);
      margin-bottom: 4px;
    }

    .trend-title {
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 4px;
    }

    .trend-caption {
      font-size: 12px;
      color: var(--muted);
      margin-bottom: 10px;
      max-height: 38px;
      overflow: hidden;
    }

    .trend-footer {
      display: flex;
      justify-content: flex-end;
    }

    .trend-footer .shop-pill {
      padding: 7px 16px;
      font-size: 13px;
      box-shadow: 0 10px 24px rgba(0, 199, 255, 0.4);
    }

    footer {
      margin-top: 26px;
      font-size: 11px;
      color: var(--muted);
      display: flex;
      justify-content: space-between;
      flex-wrap: wrap;
      gap: 6px;
    }

    footer a {
      color: var(--accent);
      text-decoration: none;
    }

    footer a:hover {
      text-decoration: underline;
    }

    /* Mobile */

    @media (max-width: 768px) {
      .page {
        padding: 16px 14px 30px;
      }

      header h1 {
        font-size: 18px;
      }

      .featured-card {
        flex-direction: column;
        align-items: flex-start;
      }

      .featured-main {
        width: 100%;
      }

      .featured-caption {
        max-width: none;
      }

      .featured-cta {
        align-items: flex-start;
        width: 100%;
      }

      .featured-cta .shop-pill {
        width: 100%;
        justify-content: center;
      }

      .trending-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
    }

    @media (max-width: 480px) {
      .trend-card {
        min-height: 120px;
      }

      .trend-caption {
        max-height: 44px;
      }
    }
  </style>
</head>
<body>
  <div class="page">
    <header>
      <img src="logo.jpg" alt="Gadget Hub HQ logo" class="logo" />
      <div class="title-block">
        <h1>Gadget Hub HQ</h1>
        <div class="subtitle">Smart Amazon finds for real-life upgrades.</div>
      </div>
    </header>

    <!-- FEATURED PRODUCT -->
    <section aria-labelledby="featured-heading">
      <h2 id="featured-heading">Featured product</h2>
      <article class="featured-card">
        <div class="featured-main">
          <div class="featured-image-wrap">
            <img
              id="featured_image"
              class="featured-image"
              src=""
              alt="Featured product image"
            />
          </div>
          <div class="featured-text">
            <div id="featured_title" class="featured-title">
              Loading featured product…
            </div>
            <div id="featured_caption" class="featured-caption">
              Your latest TikTok product will appear here.
            </div>
            <div class="featured-meta-row">
              <div class="badge-tiktok">
                <span class="badge-tiktok-dot"></span>
                <span>As seen on TikTok</span>
              </div>
              <div id="featured_updated" class="featured-updated"></div>
            </div>
          </div>
        </div>
        <div class="featured-cta">
          <a
            id="featured_link"
            class="shop-pill"
            href="#"
            target="_blank"
            rel="noopener noreferrer"
          >
            Shop
            <span class="shop-pill-icon">↗</span>
          </a>
        </div>
      </article>
    </section>

    <!-- TRENDING GRID -->
    <section aria-labelledby="trending-heading">
      <h2 id="trending-heading">Trending Amazon products</h2>
      <div class="trending-grid">
        <!-- 12 cards, filled via JS -->
        <!-- Row 1 -->
        <article class="trend-card" data-trend="1">
          <div class="trend-category">Amazon find</div>
          <div class="trend-title">Loading…</div>
          <div class="trend-caption"></div>
          <div class="trend-footer">
            <a
              class="shop-pill trend-link"
              href="#"
              target="_blank"
              rel="noopener noreferrer"
              >Shop</a
            >
          </div>
        </article>

        <article class="trend-card" data-trend="2">
          <div class="trend-category">Amazon find</div>
          <div class="trend-title">Loading…</div>
          <div class="trend-caption"></div>
          <div class="trend-footer">
            <a
              class="shop-pill trend-link"
              href="#"
              target="_blank"
              rel="noopener noreferrer"
              >Shop</a
            >
          </div>
        </article>

        <article class="trend-card" data-trend="3">
          <div class="trend-category">Amazon find</div>
          <div class="trend-title">Loading…</div>
          <div class="trend-caption"></div>
          <div class="trend-footer">
            <a
              class="shop-pill trend-link"
              href="#"
              target="_blank"
              rel="noopener noreferrer"
              >Shop</a
            >
          </div>
        </article>

        <!-- Row 2 -->
        <article class="trend-card" data-trend="4">
          <div class="trend-category">Amazon find</div>
          <div class="trend-title">Loading…</div>
          <div class="trend-caption"></div>
          <div class="trend-footer">
            <a
              class="shop-pill trend-link"
              href="#"
              target="_blank"
              rel="noopener noreferrer"
              >Shop</a
            >
          </div>
        </article>

        <article class="trend-card" data-trend="5">
          <div class="trend-category">Amazon find</div>
          <div class="trend-title">Loading…</div>
          <div class="trend-caption"></div>
          <div class="trend-footer">
            <a
              class="shop-pill trend-link"
              href="#"
              target="_blank"
              rel="noopener noreferrer"
              >Shop</a
            >
          </div>
        </article>

        <article class="trend-card" data-trend="6">
          <div class="trend-category">Amazon find</div>
          <div class="trend-title">Loading…</div>
          <div class="trend-caption"></div>
          <div class="trend-footer">
            <a
              class="shop-pill trend-link"
              href="#"
              target="_blank"
              rel="noopener noreferrer"
              >Shop</a
            >
          </div>
        </article>

        <!-- Row 3 -->
        <article class="trend-card" data-trend="7">
          <div class="trend-category">Amazon find</div>
          <div class="trend-title">Loading…</div>
          <div class="trend-caption"></div>
          <div class="trend-footer">
            <a
              class="shop-pill trend-link"
              href="#"
              target="_blank"
              rel="noopener noreferrer"
              >Shop</a
            >
          </div>
        </article>

        <article class="trend-card" data-trend="8">
          <div class="trend-category">Amazon find</div>
          <div class="trend-title">Loading…</div>
          <div class="trend-caption"></div>
          <div class="trend-footer">
            <a
              class="shop-pill trend-link"
              href="#"
              target="_blank"
              rel="noopener noreferrer"
              >Shop</a
            >
          </div>
        </article>

        <article class="trend-card" data-trend="9">
          <div class="trend-category">Amazon find</div>
          <div class="trend-title">Loading…</div>
          <div class="trend-caption"></div>
          <div class="trend-footer">
            <a
              class="shop-pill trend-link"
              href="#"
              target="_blank"
              rel="noopener noreferrer"
              >Shop</a
            >
          </div>
        </article>

        <!-- Row 4 -->
        <article class="trend-card" data-trend="10">
          <div class="trend-category">Amazon find</div>
          <div class="trend-title">Loading…</div>
          <div class="trend-caption"></div>
          <div class="trend-footer">
            <a
              class="shop-pill trend-link"
              href="#"
              target="_blank"
              rel="noopener noreferrer"
              >Shop</a
            >
          </div>
        </article>

        <article class="trend-card" data-trend="11">
          <div class="trend-category">Amazon find</div>
          <div class="trend-title">Loading…</div>
          <div class="trend-caption"></div>
          <div class="trend-footer">
            <a
              class="shop-pill trend-link"
              href="#"
              target="_blank"
              rel="noopener noreferrer"
              >Shop</a
            >
          </div>
        </article>

        <article class="trend-card" data-trend="12">
          <div class="trend-category">Amazon find</div>
          <div class="trend-title">Loading…</div>
          <div class="trend-caption"></div>
          <div class="trend-footer">
            <a
              class="shop-pill trend-link"
              href="#"
              target="_blank"
              rel="noopener noreferrer"
              >Shop</a
            >
          </div>
        </article>
      </div>
    </section>

    <footer>
      <span>Amazon affiliate links. Prices and availability may change.</span>
      <span>Built by <a href="https://www.tiktok.com/@holidaygadgethub" target="_blank" rel="noopener noreferrer">@holidaygadgethub</a></span>
    </footer>
  </div>

  <script>
    (async function () {
      // Helper: safe text
      const setText = (el, value) => {
        if (el && value != null && value !== "") el.textContent = value;
      };

      // Helper: simple date formatting
      const formatTimestamp = (raw) => {
        if (!raw) return "";
        const d = new Date(raw);
        if (isNaN(d.getTime())) return raw;
        return d.toLocaleString(undefined, {
          month: "short",
          day: "numeric",
          hour: "numeric",
          minute: "2-digit",
        });
      };

      /* ========= FEATURED ========= */

      try {
        const res = await fetch("data/featured.json", { cache: "no-store" });
        const json = await res.json();
        const f = Array.isArray(json) ? json[0] : json;

        const title =
          f.product_title || f.title || f["2"] || "Featured product";
        const url =
          f.product_url || f.url || f["3"] || "#";
        const caption =
          f.headline || f.caption || f["7"] || "";
        const image =
          f.image_url || f.image || f.thumbnail || "";
        const updated =
          f.last_updated || f.updated_at || f.updated || "";

        const titleEl = document.getElementById("featured_title");
        const capEl = document.getElementById("featured_caption");
        const imgEl = document.getElementById("featured_image");
        const linkEl = document.getElementById("featured_link");
        const updatedEl = document.getElementById("featured_updated");

        setText(titleEl, title);
        setText(capEl, caption);
        if (imgEl && image) {
          imgEl.src = image;
        } else if (imgEl) {
          imgEl.style.display = "none";
        }
        if (linkEl && url) {
          linkEl.href = url;
        }
        if (updatedEl && updated) {
          updatedEl.textContent = "Last updated: " + formatTimestamp(updated);
        }
      } catch (err) {
        console.error("Featured load error", err);
      }

      /* ========= TRENDING ========= */

      try {
        const res = await fetch("data/trending.json", { cache: "no-store" });
        const json = await res.json();
        const rawItems = json.items || json || [];

        const items = rawItems.map((it) => ({
          title: it.title || it.product_title || it["2"] || "",
          url: it.url || it.product_url || it["3"] || "#",
          caption: it.caption || it.headline || it["7"] || "",
          category: it.category || it["14"] || "Amazon find",
        }));

        items.slice(0, 12).forEach((item, idx) => {
          const card = document.querySelector(
            `[data-trend="${idx + 1}"]`
          );
          if (!card) return;

          const catEl = card.querySelector(".trend-category");
          const titleEl = card.querySelector(".trend-title");
          const capEl = card.querySelector(".trend-caption");
          const linkEl = card.querySelector(".trend-link");

          setText(catEl, item.category || "Amazon find");
          setText(titleEl, item.title || "Amazon find");
          setText(capEl, item.caption || "");

          if (linkEl && item.url) {
            linkEl.href = item.url;
          } else if (linkEl) {
            linkEl.href = "#";
          }
        });
      } catch (err) {
        console.error("Trending load error", err);
      }
    })();
  </script>
</body>
</html>
